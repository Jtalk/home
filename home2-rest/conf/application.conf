# https://www.playframework.com/documentation/latest/Configuration

http.port = 8090
http.port = ${?HTTP_PORT}

play.filters.enabled = [
  "play.filters.cors.CORSFilter",
  "play.filters.csrf.CSRFFilter",
  "play.filters.headers.SecurityHeadersFilter",
  // No AllowedHostsFilter: we don't serve html + k8s routes to a 404 backend on invalid header
]

play.filters.cors {
  allowedOriginsList = ""
  allowedOriginsList = ${?CORS_ALLOWED_ORIGINS}
  allowedOrigins = [${play.filters.cors.allowedOriginsList}]
  supportsCredentials = true
}

# Production server configuration
# Stop sbt docker plugin from complaining
play.server.pidfile.path=/dev/null
play.http.secret.key=${?APPLICATION_SECRET}

# The mongo module
play.modules.enabled += "play.modules.reactivemongo.ReactiveMongoModule"

# i18n
play.i18n.langs = [ "en-GB", "en" ]

# mongodb connection details
mongodb.uri = "mongodb://localhost:27017/home"
mongodb.uri = ${?MONGODB_URI}

# image pagination
app.images.page.size = 10
app.session.timeout = 10m

app.setup {
  enabled = false
  enabled = ${?APP_SETUP_ENABLED}
  defaults {
    login = admin
    login = ${?APP_SETUP_DEFAULT_LOGIN}
    password = ""
    password = ${?APP_SETUP_DEFAULT_PASSWORD}
  }
}